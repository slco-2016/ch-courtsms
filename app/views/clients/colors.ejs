<% include ../partials/cardFrameTop %>

<script src="/static/js/jscolor.min.js"></script>
<link rel="stylesheet" type="text/css" href="/static/css/v4_colorSelector.css">

<div class="cardHead">
  <a href="/clients"><% include ../partials/cardExit %></a>
  <div class="cardTitle">Apply Client Color Tag</div>
  <div class="cardSubtitle">
    Use color tags to help organize clients on the main clients view page.
  </div>
</div>

<div class="cardBody">

  <a href="/colors">
    <div class="manageColorsLink">
      <i class="fa fa-th-large" aria-hidden="true"></i>
      Manage colors
    </div>
  </a>

  <div class="coloredClientFrame">
    <div  class="clientNameBox" 
          style="background-color:<%=client.color_tag%>">
      <%= client.first + ' ' + client.last %>
    </div>
    <div class="clientColorNameSelected">
      <%= client.color_name %>
    </div>
  </div>

  <div class="colorList">
    <div  class="colorTag" 
          data-colorID=""
          data-colorTagName="None"
          style="background-color:#898989"></div>
    <div class="colorName">
      None
    </div>
  </div>

  <% colors.forEach(function (tag) { %>
    <div class="colorList">
      <div  class="colorTag" 
            data-colorID="<%= tag.color_tag_id %>"
            data-colorTagName="<%= tag.name %>"
            style="background-color:<%= tag.color %>"></div>
      <div class="colorName">
        <%= tag.name %>
      </div>
    </div>
  <% }) %>

  <center>
    <form method="POST" 
          action="<%=`/clients/${client.clid}/edit/color`%>">
      <input  type="hidden" 
              id="chosenColorID"
              name="colorID"
              value="">
      <input  type="submit" 
              class="formSubmit" 
              value="Update Client Color">
    </form>
  </center>

</div>

<script type="text/javascript" class="JSclientSelectColor"></script>

<% include ../partials/cardFrameBottom %>